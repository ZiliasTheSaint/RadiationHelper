<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_92) on Wed Apr 12 17:41:55 EEST 2017 -->
<title>DoseSimCore</title>
<meta name="date" content="2017-04-12">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DoseSimCore";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9,"i8":9,"i9":9,"i10":9,"i11":9,"i12":9,"i13":9,"i14":9,"i15":9,"i16":9,"i17":9,"i18":9,"i19":9,"i20":9,"i21":9,"i22":9,"i23":9,"i24":9,"i25":9,"i26":9,"i27":9,"i28":9,"i29":9,"i30":9,"i31":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DoseSimCore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../danfulea/phys/AmbientalBkgRetriever.html" title="interface in danfulea.phys"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../danfulea/phys/GammaDetector.html" title="class in danfulea.phys"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?danfulea/phys/DoseSimCore.html" target="_top">Frames</a></li>
<li><a href="DoseSimCore.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">danfulea.phys</div>
<h2 title="Class DoseSimCore" class="title">Class DoseSimCore</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>danfulea.phys.DoseSimCore</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">DoseSimCore</span>
extends java.lang.Object</pre>
<div class="block">Class for Monte Carlo simulation of radiation transport which is used in conjunction with MIRD5 Phantom 
 class and XRay class to assess organ doses and effective dose for patients undergoing 
 radiological examinations (radiodiagnostic - mammography, radiography and CT). This simulation 
 uses KERMA approximation, i.e. only the photons are tracked and the dose is considered deposited wherever 
 the photons are absorbed. This approximation is good enough for human body due to the fact that 
 organs are large compared to the electron path-length. However, at boundaries this approach is not 
 good and therefore a much more accurate method is needed. Such methods must take into account 
 photons and electrons. EGSnrc and GEANT4 are both very good MC engines suitable for this task. 
 As far as I know the EGSnrc is very good for simple geometries such as cylindrical (RZ) or spherical. 
 Since MIRD5 phantom is anything but simple, EGSnrc cannot be used unless we develop complex geometry routines which is 
 a pain. The CERN's GEANT4 on the other hand 
 has build-in very good geometry routines which can easily handle all kind of situations and is based on the latest 
 top notch data. GEANT4 as well as EGSnrc are in fact toolkits, so users must write their own routines 
 to couple with those very good MC engines. GEANT4 requires C++ programming language, 
 EGSnrc requires MORTRAN (a variant of fortran) and recently it was ported to C++.<br> 
 Bottom line: Use this class only for gross (rough) estimations of doses and/or 
 in educational purpose. For more accuracy use GEANT4. Personally I used this class inside a computer program  
 called IradMed to perform various quality control tests and dose/risk assessments in my PhD thesis. Nowadays, 
 I always use GEANT4 for such tasks.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Dan Fulea, 10 APR. 2005</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#BASE_RESOURCE_CLASS">BASE_RESOURCE_CLASS</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#effectiveDose">effectiveDose</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static double[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#energy_deposit">energy_deposit</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#knAlgor">knAlgor</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#n_detected">n_detected</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#n_film">n_film</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#n_film_direct">n_film_direct</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#n_photoefect">n_photoefect</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#n_side">n_side</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#n_total">n_total</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static double[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#orgAbsorbedDose">orgAbsorbedDose</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static double[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#organAbsorbedDose">organAbsorbedDose</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#organs">organs</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.ResourceBundle</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#resources">resources</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#scannedslices">scannedslices</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#simulationTimeElapsed">simulationTimeElapsed</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#stopB">stopB</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#total_energy_deposit">total_energy_deposit</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#DoseSimCore--">DoseSimCore</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#comptonSim-double-">comptonSim</a></span>(double&nbsp;k)</code>
<div class="block">Dispatch the Compton simulation process based on the chosen Klein-Nishina algorithm.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#comptonSimC-double-">comptonSimC</a></span>(double&nbsp;k)</code>
<div class="block">Compton simulation process based on "classic" algorithm.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#comptonSimE-double-">comptonSimE</a></span>(double&nbsp;k)</code>
<div class="block">Compton simulation process based on EGSnrc algorithm.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#comptonSimK-double-">comptonSimK</a></span>(double&nbsp;k)</code>
<div class="block">Compton simulation process based on Khan algorithm.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#comptonSimW-double-">comptonSimW</a></span>(double&nbsp;k)</code>
<div class="block">Compton simulation process based on Wielopolski algorithm.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#ctSim-int-danfulea.phys.XRaySpectrum-double-double-danfulea.phys.Phantom-double-double-double-int-">ctSim</a></span>(int&nbsp;photon_number,
     <a href="../../danfulea/phys/XRaySpectrum.html" title="class in danfulea.phys">XRaySpectrum</a>&nbsp;xrs,
     double&nbsp;airExposure,
     double&nbsp;fsd,
     <a href="../../danfulea/phys/Phantom.html" title="class in danfulea.phys">Phantom</a>&nbsp;phantom,
     double&nbsp;startSlice,
     double&nbsp;endSlice,
     double&nbsp;nomSliceThick,
     int&nbsp;slicePerStep)</code>
<div class="block">Perform Monte Carlo simulation for CT.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static double[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#getctOrganAbsorbedDose--">getctOrganAbsorbedDose</a></span>()</code>
<div class="block">Get organ absorbed dose for CT.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#getctScannedSlices--">getctScannedSlices</a></span>()</code>
<div class="block">Get the number of slices used in CT scan.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#getDetectedPhotons--">getDetectedPhotons</a></span>()</code>
<div class="block">Return the number of photons which hit the "detector" (phantom).</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#getEffectiveDose--">getEffectiveDose</a></span>()</code>
<div class="block">Get the effective dose [0] and its uncertainty [1].</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>static double[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#getEnergyDeposition--">getEnergyDeposition</a></span>()</code>
<div class="block">Get energy deposition matrix.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>private static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#getEntranceField-double-double:A-double:A-int-danfulea.phys.Phantom-">getEntranceField</a></span>(double&nbsp;fsd,
                double[]&nbsp;entranceXField,
                double[]&nbsp;centerXField,
                int&nbsp;projection,
                <a href="../../danfulea/phys/Phantom.html" title="class in danfulea.phys">Phantom</a>&nbsp;phantom)</code>
<div class="block">Computes the entrance field area in cm^2.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#getFilmEscapedProc--">getFilmEscapedProc</a></span>()</code>
<div class="block">Percentage of photons escaped through phantom back.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#getFilmPhotons--">getFilmPhotons</a></span>()</code>
<div class="block">Returns the number of photons which reached the film (exit through the back of the phantom)</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#getFilmScatteredVsTotalFilmProc--">getFilmScatteredVsTotalFilmProc</a></span>()</code>
<div class="block">Percentage of photons which exit through phantom back but with no interactions 
 along their way through phantom relative to the photons which exit through phanotm back.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>private static double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#getInitialCoord-double:A-double:A-int-danfulea.phys.Phantom-double-">getInitialCoord</a></span>(double[]&nbsp;centerXField,
               double[]&nbsp;entranceXField,
               int&nbsp;projection,
               <a href="../../danfulea/phys/Phantom.html" title="class in danfulea.phys">Phantom</a>&nbsp;phantom,
               double&nbsp;fsd)</code>
<div class="block">When simulation starts, this routine computes initial coordinates of particle at patient (MIRD 5 phantom) entrance.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>static double[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#getOrganAbsorbedDose--">getOrganAbsorbedDose</a></span>()</code>
<div class="block">Get organ absorbed dose.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>static java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#getOrgans--">getOrgans</a></span>()</code>
<div class="block">Get the array of organs.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#getPhotoAbsorbedPhotons--">getPhotoAbsorbedPhotons</a></span>()</code>
<div class="block">Returns the number of photons which undergo photo-electric effect.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#getSideEscapedProc--">getSideEscapedProc</a></span>()</code>
<div class="block">Percentage of photons escaped through any side of phantom.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#getSimulationTimeElapsed--">getSimulationTimeElapsed</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#getTotalPhotons--">getTotalPhotons</a></span>()</code>
<div class="block">Get total photons.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>static double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#getUpdatedCoordinate-double-double-double-double:A-">getUpdatedCoordinate</a></span>(double&nbsp;theta0,
                    double&nbsp;phi0,
                    double&nbsp;dist,
                    double[]&nbsp;oldcoord)</code>
<div class="block">Being the core for transporting particle, this routine updates particle coordinates based on the old coordinates, the distance 
 to travel, the polar and azimuth angles.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#linInt-double-double-double-double-double-">linInt</a></span>(double&nbsp;x1,
      double&nbsp;y1,
      double&nbsp;x2,
      double&nbsp;y2,
      double&nbsp;x)</code>
<div class="block">Perform linear interpolation between point (x1,y1) and (x2,y2) and return y for a given x.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#mamoSim-int-danfulea.phys.XRaySpectrum-double-double-">mamoSim</a></span>(int&nbsp;photon_number,
       <a href="../../danfulea/phys/XRaySpectrum.html" title="class in danfulea.phys">XRaySpectrum</a>&nbsp;xrs,
       double&nbsp;airExposure,
       double&nbsp;fsd)</code>
<div class="block">Perform Monte Carlo simulation for mammography.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#radSim-int-danfulea.phys.XRaySpectrum-double-double-danfulea.phys.Phantom-int-double:A-double:A-">radSim</a></span>(int&nbsp;photon_number,
      <a href="../../danfulea/phys/XRaySpectrum.html" title="class in danfulea.phys">XRaySpectrum</a>&nbsp;xrs,
      double&nbsp;airExposure,
      double&nbsp;fsd,
      <a href="../../danfulea/phys/Phantom.html" title="class in danfulea.phys">Phantom</a>&nbsp;phantom,
      int&nbsp;projection,
      double[]&nbsp;centerXField,
      double[]&nbsp;entranceXField)</code>
<div class="block">Perform default Monte Carlo simulation for radiography.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#radWeightedSim-int-danfulea.phys.XRaySpectrum-double-double-danfulea.phys.Phantom-int-double:A-double:A-">radWeightedSim</a></span>(int&nbsp;photon_number,
              <a href="../../danfulea/phys/XRaySpectrum.html" title="class in danfulea.phys">XRaySpectrum</a>&nbsp;xrs,
              double&nbsp;airExposure,
              double&nbsp;fsd,
              <a href="../../danfulea/phys/Phantom.html" title="class in danfulea.phys">Phantom</a>&nbsp;phantom,
              int&nbsp;projection,
              double[]&nbsp;centerXField,
              double[]&nbsp;entranceXField)</code>
<div class="block">Perform slightly modified Monte Carlo simulation for radiography using Rosenstein algorithm for evaluating dose.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#rayleighSim-double-">rayleighSim</a></span>(double&nbsp;k)</code>
<div class="block">Rayleigh simulation process (coherent scattering) crude approach.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#setKNAlgor-int-">setKNAlgor</a></span>(int&nbsp;kn)</code>
<div class="block">Setup Klein-Nishina algorithm for Compton simulation routine.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#setStart--">setStart</a></span>()</code>
<div class="block">Sets flag to start simulation</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#setStop--">setStop</a></span>()</code>
<div class="block">Sets flag to stop simulation</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../danfulea/phys/DoseSimCore.html#timeElapsed-long-">timeElapsed</a></span>(long&nbsp;startTime)</code>
<div class="block">Format the time elapsed from a start time.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="BASE_RESOURCE_CLASS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BASE_RESOURCE_CLASS</h4>
<pre>private static final&nbsp;java.lang.String BASE_RESOURCE_CLASS</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../constant-values.html#danfulea.phys.DoseSimCore.BASE_RESOURCE_CLASS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="resources">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resources</h4>
<pre>private static&nbsp;java.util.ResourceBundle resources</pre>
</li>
</ul>
<a name="simulationTimeElapsed">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>simulationTimeElapsed</h4>
<pre>private static&nbsp;java.lang.String simulationTimeElapsed</pre>
</li>
</ul>
<a name="total_energy_deposit">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>total_energy_deposit</h4>
<pre>private static&nbsp;double total_energy_deposit</pre>
</li>
</ul>
<a name="energy_deposit">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>energy_deposit</h4>
<pre>private static&nbsp;double[][] energy_deposit</pre>
</li>
</ul>
<a name="n_detected">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>n_detected</h4>
<pre>private static&nbsp;int n_detected</pre>
</li>
</ul>
<a name="n_total">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>n_total</h4>
<pre>private static&nbsp;int n_total</pre>
</li>
</ul>
<a name="n_film">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>n_film</h4>
<pre>private static&nbsp;int n_film</pre>
</li>
</ul>
<a name="n_film_direct">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>n_film_direct</h4>
<pre>private static&nbsp;int n_film_direct</pre>
</li>
</ul>
<a name="n_side">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>n_side</h4>
<pre>private static&nbsp;int n_side</pre>
</li>
</ul>
<a name="n_photoefect">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>n_photoefect</h4>
<pre>private static&nbsp;int n_photoefect</pre>
</li>
</ul>
<a name="organAbsorbedDose">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>organAbsorbedDose</h4>
<pre>private static&nbsp;double[][] organAbsorbedDose</pre>
</li>
</ul>
<a name="effectiveDose">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>effectiveDose</h4>
<pre>private static&nbsp;double[] effectiveDose</pre>
</li>
</ul>
<a name="organs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>organs</h4>
<pre>private static&nbsp;java.lang.String[] organs</pre>
</li>
</ul>
<a name="orgAbsorbedDose">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>orgAbsorbedDose</h4>
<pre>private static&nbsp;double[][] orgAbsorbedDose</pre>
</li>
</ul>
<a name="scannedslices">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scannedslices</h4>
<pre>private static&nbsp;int scannedslices</pre>
</li>
</ul>
<a name="stopB">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopB</h4>
<pre>private static&nbsp;boolean stopB</pre>
</li>
</ul>
<a name="knAlgor">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>knAlgor</h4>
<pre>private static&nbsp;int knAlgor</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DoseSimCore--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DoseSimCore</h4>
<pre>public&nbsp;DoseSimCore()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setKNAlgor-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setKNAlgor</h4>
<pre>public static&nbsp;void&nbsp;setKNAlgor(int&nbsp;kn)</pre>
<div class="block">Setup Klein-Nishina algorithm for Compton simulation routine.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>kn</code> - kn, the algoritm index</dd>
</dl>
</li>
</ul>
<a name="setStop--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStop</h4>
<pre>public static&nbsp;void&nbsp;setStop()</pre>
<div class="block">Sets flag to stop simulation</div>
</li>
</ul>
<a name="setStart--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStart</h4>
<pre>public static&nbsp;void&nbsp;setStart()</pre>
<div class="block">Sets flag to start simulation</div>
</li>
</ul>
<a name="getEnergyDeposition--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEnergyDeposition</h4>
<pre>public static&nbsp;double[][]&nbsp;getEnergyDeposition()</pre>
<div class="block">Get energy deposition matrix. Columns are energy and its uncertainty. Rows are 
 related to each organ location.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result</dd>
</dl>
</li>
</ul>
<a name="getctOrganAbsorbedDose--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getctOrganAbsorbedDose</h4>
<pre>public static&nbsp;double[][]&nbsp;getctOrganAbsorbedDose()</pre>
<div class="block">Get organ absorbed dose for CT. Columns are dose and its uncertainty. Rows are 
 related to each organ location.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result</dd>
</dl>
</li>
</ul>
<a name="getctScannedSlices--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getctScannedSlices</h4>
<pre>public static&nbsp;int&nbsp;getctScannedSlices()</pre>
<div class="block">Get the number of slices used in CT scan.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result</dd>
</dl>
</li>
</ul>
<a name="getOrganAbsorbedDose--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOrganAbsorbedDose</h4>
<pre>public static&nbsp;double[][]&nbsp;getOrganAbsorbedDose()</pre>
<div class="block">Get organ absorbed dose. Columns are dose and its uncertainty. Rows are 
 related to each organ location.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result</dd>
</dl>
</li>
</ul>
<a name="getOrgans--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOrgans</h4>
<pre>public static&nbsp;java.lang.String[]&nbsp;getOrgans()</pre>
<div class="block">Get the array of organs.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result</dd>
</dl>
</li>
</ul>
<a name="getEffectiveDose--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEffectiveDose</h4>
<pre>public static&nbsp;double[]&nbsp;getEffectiveDose()</pre>
<div class="block">Get the effective dose [0] and its uncertainty [1].</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result array</dd>
</dl>
</li>
</ul>
<a name="getTotalPhotons--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTotalPhotons</h4>
<pre>public static&nbsp;int&nbsp;getTotalPhotons()</pre>
<div class="block">Get total photons.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result.</dd>
</dl>
</li>
</ul>
<a name="getDetectedPhotons--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDetectedPhotons</h4>
<pre>public static&nbsp;int&nbsp;getDetectedPhotons()</pre>
<div class="block">Return the number of photons which hit the "detector" (phantom).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result</dd>
</dl>
</li>
</ul>
<a name="getFilmPhotons--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFilmPhotons</h4>
<pre>public static&nbsp;int&nbsp;getFilmPhotons()</pre>
<div class="block">Returns the number of photons which reached the film (exit through the back of the phantom)</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result</dd>
</dl>
</li>
</ul>
<a name="getPhotoAbsorbedPhotons--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPhotoAbsorbedPhotons</h4>
<pre>public static&nbsp;int&nbsp;getPhotoAbsorbedPhotons()</pre>
<div class="block">Returns the number of photons which undergo photo-electric effect.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result</dd>
</dl>
</li>
</ul>
<a name="getSimulationTimeElapsed--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSimulationTimeElapsed</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getSimulationTimeElapsed()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the time taken to complete this simulation.</dd>
</dl>
</li>
</ul>
<a name="getSideEscapedProc--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSideEscapedProc</h4>
<pre>public static&nbsp;double&nbsp;getSideEscapedProc()</pre>
<div class="block">Percentage of photons escaped through any side of phantom.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result</dd>
</dl>
</li>
</ul>
<a name="getFilmEscapedProc--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFilmEscapedProc</h4>
<pre>public static&nbsp;double&nbsp;getFilmEscapedProc()</pre>
<div class="block">Percentage of photons escaped through phantom back.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result</dd>
</dl>
</li>
</ul>
<a name="getFilmScatteredVsTotalFilmProc--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFilmScatteredVsTotalFilmProc</h4>
<pre>public static&nbsp;double&nbsp;getFilmScatteredVsTotalFilmProc()</pre>
<div class="block">Percentage of photons which exit through phantom back but with no interactions 
 along their way through phantom relative to the photons which exit through phanotm back.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result</dd>
</dl>
</li>
</ul>
<a name="comptonSim-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>comptonSim</h4>
<pre>public static&nbsp;double&nbsp;comptonSim(double&nbsp;k)</pre>
<div class="block">Dispatch the Compton simulation process based on the chosen Klein-Nishina algorithm.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>k</code> - the photon energy in MeV</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the polar angle of Compton scattering.</dd>
</dl>
</li>
</ul>
<a name="comptonSimE-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>comptonSimE</h4>
<pre>public static&nbsp;double&nbsp;comptonSimE(double&nbsp;k)</pre>
<div class="block">Compton simulation process based on EGSnrc algorithm.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>k</code> - the photon energy in MeV</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the polar angle of Compton scattering.</dd>
</dl>
</li>
</ul>
<a name="comptonSimW-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>comptonSimW</h4>
<pre>public static&nbsp;double&nbsp;comptonSimW(double&nbsp;k)</pre>
<div class="block">Compton simulation process based on Wielopolski algorithm.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>k</code> - the photon energy in MeV</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the polar angle of Compton scattering.</dd>
</dl>
</li>
</ul>
<a name="comptonSimK-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>comptonSimK</h4>
<pre>public static&nbsp;double&nbsp;comptonSimK(double&nbsp;k)</pre>
<div class="block">Compton simulation process based on Khan algorithm.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>k</code> - the photon energy in MeV</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the polar angle of Compton scattering.</dd>
</dl>
</li>
</ul>
<a name="comptonSimC-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>comptonSimC</h4>
<pre>public static&nbsp;double&nbsp;comptonSimC(double&nbsp;k)</pre>
<div class="block">Compton simulation process based on "classic" algorithm. 
 Based on code written by Lesley Buckley Dec 17, 2001 in his/her PhD thesis.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>k</code> - the photon energy in MeV</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the polar angle of Compton scattering.</dd>
</dl>
</li>
</ul>
<a name="rayleighSim-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rayleighSim</h4>
<pre>public static&nbsp;double&nbsp;rayleighSim(double&nbsp;k)</pre>
<div class="block">Rayleigh simulation process (coherent scattering) crude approach.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>k</code> - the photon energy in MeV, not used in this approach but in later development (if any)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the polar angle of Rayleigh scattering.</dd>
</dl>
</li>
</ul>
<a name="timeElapsed-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>timeElapsed</h4>
<pre>public static&nbsp;java.lang.String&nbsp;timeElapsed(long&nbsp;startTime)</pre>
<div class="block">Format the time elapsed from a start time.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>startTime</code> - the start time</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the formatted String representation of time elapsed.</dd>
</dl>
</li>
</ul>
<a name="linInt-double-double-double-double-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>linInt</h4>
<pre>public static&nbsp;double&nbsp;linInt(double&nbsp;x1,
                            double&nbsp;y1,
                            double&nbsp;x2,
                            double&nbsp;y2,
                            double&nbsp;x)</pre>
<div class="block">Perform linear interpolation between point (x1,y1) and (x2,y2) and return y for a given x.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x1</code> - x1</dd>
<dd><code>y1</code> - y1</dd>
<dd><code>x2</code> - x2</dd>
<dd><code>y2</code> - y2</dd>
<dd><code>x</code> - x</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result</dd>
</dl>
</li>
</ul>
<a name="getUpdatedCoordinate-double-double-double-double:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUpdatedCoordinate</h4>
<pre>public static&nbsp;double[]&nbsp;getUpdatedCoordinate(double&nbsp;theta0,
                                            double&nbsp;phi0,
                                            double&nbsp;dist,
                                            double[]&nbsp;oldcoord)</pre>
<div class="block">Being the core for transporting particle, this routine updates particle coordinates based on the old coordinates, the distance 
 to travel, the polar and azimuth angles. The term coordinate refers to a 6 dimensional array 
 containing the spatial position relative to the phantom coordinate system x,y,z and the direction 
 to travel described by direction cosines ux, uy and uz (or u, v, w). <br>The scenario is as follows: particle is located 
 at point A having coordinates cA. At this point, the Monte Carlo code figured out what kind of interaction the particle has, 
 e.g Compton scattering, and figured out the polar and azimuth angle related to that scattering process. 
 From interaction sampling we figured out what is the distance to the next interaction site (point B). Finally, transport particle to B  
 (i.e. update coordinates to cB). This process is then repeated (determine what kind of scattering (if any) happen at B and so on) 
 until particle escapes the phantom or it is absorbed by photo-electric effect.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>theta0</code> - polar angle of scattering</dd>
<dd><code>phi0</code> - azimuth angle of scattering</dd>
<dd><code>dist</code> - distance to the next interaction location (radiation interaction that is).</dd>
<dd><code>oldcoord</code> - current (and old) coordinates</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the new coordinates where particle is transported.</dd>
</dl>
</li>
</ul>
<a name="mamoSim-int-danfulea.phys.XRaySpectrum-double-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mamoSim</h4>
<pre>public static&nbsp;void&nbsp;mamoSim(int&nbsp;photon_number,
                           <a href="../../danfulea/phys/XRaySpectrum.html" title="class in danfulea.phys">XRaySpectrum</a>&nbsp;xrs,
                           double&nbsp;airExposure,
                           double&nbsp;fsd)</pre>
<div class="block">Perform Monte Carlo simulation for mammography.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>photon_number</code> - the number of histories for each photon energy.</dd>
<dd><code>xrs</code> - the link to XRaySpectrum class.</dd>
<dd><code>airExposure</code> - the dose free in air at phantom (breast) entrance in mGy.</dd>
<dd><code>fsd</code> - focus-breast entrance distance in cm (focus-top cylinder base, breast is simulated 
 as an right cylinder due to the compression device).</dd>
</dl>
</li>
</ul>
<a name="getInitialCoord-double:A-double:A-int-danfulea.phys.Phantom-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInitialCoord</h4>
<pre>private static&nbsp;double[]&nbsp;getInitialCoord(double[]&nbsp;centerXField,
                                        double[]&nbsp;entranceXField,
                                        int&nbsp;projection,
                                        <a href="../../danfulea/phys/Phantom.html" title="class in danfulea.phys">Phantom</a>&nbsp;phantom,
                                        double&nbsp;fsd)</pre>
<div class="block">When simulation starts, this routine computes initial coordinates of particle at patient (MIRD 5 phantom) entrance. Notice 
 that centerXField and entranceXField (improperly named "entrance") are related to phantom MID-PLANE. The reason for this is the 
 direct correlation with the MIRD 5 phantom equations.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>centerXField</code> - the Xray center position (x,y,z) at phantom mid-plane relative to phantom coordinate system</dd>
<dd><code>entranceXField</code> - the Xray dimensions at phantom mid-plane (width and height)</dd>
<dd><code>projection</code> - the projection index corresponding to AP (0), PA (2), LLAT (1) or RLAT (3)</dd>
<dd><code>phantom</code> - the link to geometry, i.e. the MIRD5 phantom</dd>
<dd><code>fsd</code> - the focus-skin (i.e. focus-entrance) distance in cm.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the initial coordinate array.</dd>
</dl>
</li>
</ul>
<a name="getEntranceField-double-double:A-double:A-int-danfulea.phys.Phantom-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEntranceField</h4>
<pre>private static&nbsp;double&nbsp;getEntranceField(double&nbsp;fsd,
                                       double[]&nbsp;entranceXField,
                                       double[]&nbsp;centerXField,
                                       int&nbsp;projection,
                                       <a href="../../danfulea/phys/Phantom.html" title="class in danfulea.phys">Phantom</a>&nbsp;phantom)</pre>
<div class="block">Computes the entrance field area in cm^2. Notice 
 that centerXField and entranceXField (improperly named "entrance") are related to phantom MID-PLANE. The reason for this is the 
 direct correlation with the MIRD 5 phantom equations.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fsd</code> - focus-skin distance (i.e. focus-entrance distance) in cm.</dd>
<dd><code>entranceXField</code> - the Xray dimensions at phantom mid-plane (width and height)</dd>
<dd><code>centerXField</code> - the Xray center position (x,y,z) at phantom mid-plane relative to phantom coordinate system</dd>
<dd><code>projection</code> - the projection index corresponding to AP (0), PA (2), LLAT (1) or RLAT (3)</dd>
<dd><code>phantom</code> - the link to geometry, i.e. the MIRD5 phantom</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the entrance field area in cm^2</dd>
</dl>
</li>
</ul>
<a name="radSim-int-danfulea.phys.XRaySpectrum-double-double-danfulea.phys.Phantom-int-double:A-double:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>radSim</h4>
<pre>public static&nbsp;void&nbsp;radSim(int&nbsp;photon_number,
                          <a href="../../danfulea/phys/XRaySpectrum.html" title="class in danfulea.phys">XRaySpectrum</a>&nbsp;xrs,
                          double&nbsp;airExposure,
                          double&nbsp;fsd,
                          <a href="../../danfulea/phys/Phantom.html" title="class in danfulea.phys">Phantom</a>&nbsp;phantom,
                          int&nbsp;projection,
                          double[]&nbsp;centerXField,
                          double[]&nbsp;entranceXField)</pre>
<div class="block">Perform default Monte Carlo simulation for radiography. Notice 
 that centerXField and entranceXField (improperly named "entrance") are related to phantom MID-PLANE. The reason for this is the 
 direct correlation with the MIRD 5 phantom equations.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>photon_number</code> - the number of histories for each photon energy.</dd>
<dd><code>xrs</code> - the link to XRaySpectrum class.</dd>
<dd><code>airExposure</code> - the dose free in air at phantom entrance in mGy.</dd>
<dd><code>fsd</code> - focus-skin distance (i.e. focus-entrance distance) in cm.</dd>
<dd><code>phantom</code> - the link to geometry, i.e. the MIRD5 phantom</dd>
<dd><code>projection</code> - the projection index corresponding to AP (0), PA (2), LLAT (1) or RLAT (3)</dd>
<dd><code>centerXField</code> - the Xray center position (x,y,z) at phantom mid-plane relative to phantom coordinate system</dd>
<dd><code>entranceXField</code> - the Xray dimensions at phantom mid-plane (width and height)</dd>
</dl>
</li>
</ul>
<a name="radWeightedSim-int-danfulea.phys.XRaySpectrum-double-double-danfulea.phys.Phantom-int-double:A-double:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>radWeightedSim</h4>
<pre>public static&nbsp;void&nbsp;radWeightedSim(int&nbsp;photon_number,
                                  <a href="../../danfulea/phys/XRaySpectrum.html" title="class in danfulea.phys">XRaySpectrum</a>&nbsp;xrs,
                                  double&nbsp;airExposure,
                                  double&nbsp;fsd,
                                  <a href="../../danfulea/phys/Phantom.html" title="class in danfulea.phys">Phantom</a>&nbsp;phantom,
                                  int&nbsp;projection,
                                  double[]&nbsp;centerXField,
                                  double[]&nbsp;entranceXField)</pre>
<div class="block">Perform slightly modified Monte Carlo simulation for radiography using Rosenstein algorithm for evaluating dose. Notice 
 that centerXField and entranceXField (improperly named "entrance") are related to phantom MID-PLANE. The reason for this is the 
 direct correlation with the MIRD 5 phantom equations.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>photon_number</code> - the number of histories for each photon energy.</dd>
<dd><code>xrs</code> - the link to XRaySpectrum class.</dd>
<dd><code>airExposure</code> - the dose free in air at phantom entrance in mGy.</dd>
<dd><code>fsd</code> - focus-skin distance (i.e. focus-entrance distance) in cm.</dd>
<dd><code>phantom</code> - the link to geometry, i.e. the MIRD5 phantom</dd>
<dd><code>projection</code> - the projection index corresponding to AP (0), PA (2), LLAT (1) or RLAT (3)</dd>
<dd><code>centerXField</code> - the Xray center position (x,y,z) at phantom mid-plane relative to phantom coordinate system</dd>
<dd><code>entranceXField</code> - the Xray dimensions at phantom mid-plane (width and height)</dd>
</dl>
</li>
</ul>
<a name="ctSim-int-danfulea.phys.XRaySpectrum-double-double-danfulea.phys.Phantom-double-double-double-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ctSim</h4>
<pre>public static&nbsp;void&nbsp;ctSim(int&nbsp;photon_number,
                         <a href="../../danfulea/phys/XRaySpectrum.html" title="class in danfulea.phys">XRaySpectrum</a>&nbsp;xrs,
                         double&nbsp;airExposure,
                         double&nbsp;fsd,
                         <a href="../../danfulea/phys/Phantom.html" title="class in danfulea.phys">Phantom</a>&nbsp;phantom,
                         double&nbsp;startSlice,
                         double&nbsp;endSlice,
                         double&nbsp;nomSliceThick,
                         int&nbsp;slicePerStep)</pre>
<div class="block">Perform Monte Carlo simulation for CT. Rotation in CT is roughly simulated by successive "radiographic" runs for each 4 
 projection types (AP, PA, LLAT, RLAT).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>photon_number</code> - the number of histories for each photon energy and each projection type.</dd>
<dd><code>xrs</code> - the link to XRaySpectrum class.</dd>
<dd><code>airExposure</code> - the dose free in air per rotation measured at central axis (CTDI) in mGy.</dd>
<dd><code>fsd</code> - focus-central axis distance (i.e. focus-where CTDI i measured distance) in cm.</dd>
<dd><code>phantom</code> - the link to geometry, i.e. the MIRD5 phantom</dd>
<dd><code>startSlice</code> - the start position in cm (z1) relative to phantom coordinate system</dd>
<dd><code>endSlice</code> - the end position in cm (z2) relative to phantom coordinate system</dd>
<dd><code>nomSliceThick</code> - the slice thickness in cm</dd>
<dd><code>slicePerStep</code> - this SHOULD NORMALLY BE 1, it is related to how many slice per rotation are covered (kind of pitch factor)!</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DoseSimCore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../danfulea/phys/AmbientalBkgRetriever.html" title="interface in danfulea.phys"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../danfulea/phys/GammaDetector.html" title="class in danfulea.phys"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?danfulea/phys/DoseSimCore.html" target="_top">Frames</a></li>
<li><a href="DoseSimCore.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
